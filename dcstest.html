<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get a Quote - Dusty's Cleaning Service</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fff9e6 0%, #fef5dc 100%);
            color: #2c3e50;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* Container for the Wizard */
        .wizard-container {
            background: white;
            width: 100%;
            max-width: 700px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.08);
            overflow: hidden;
            position: relative;
            min-height: 500px; /* Prevents jumping height */
            display: flex;
            flex-direction: column;
        }

        /* Progress Bar */
        .progress-header {
            background: #fffbf0;
            padding: 20px 40px;
            border-bottom: 1px solid #f0e6d2;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-text {
            color: #d4a574;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }

        .step-dots {
            display: flex;
            gap: 8px;
        }

        .dot {
            width: 10px;
            height: 10px;
            background: #e0e0e0;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .dot.active {
            background: #e8b86d;
            transform: scale(1.2);
        }

        /* Form Content Area */
        .step-content {
            padding: 40px;
            flex-grow: 1;
            display: none; /* Hidden by default */
            animation: fadeIn 0.4s ease;
        }

        .step-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        p.subtitle {
            color: #8898aa;
            margin-bottom: 30px;
            font-size: 0.95rem;
        }

        /* Option Grids (Clickable Cards) */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        /* Radio/Checkbox Card Styling */
        .option-card {
            position: relative;
        }

        .option-card input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .card-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px 10px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            height: 100%;
            font-weight: 500;
            color: #555;
        }

        .card-visual:hover {
            border-color: #f2c98a;
            background: #fffdf8;
        }

        /* Selected State */
        .option-card input:checked ~ .card-visual {
            border-color: #e8b86d;
            background: #fffbf0;
            color: #d4a574;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(232, 184, 109, 0.2);
        }

        /* Number Inputs */
        .number-input-group {
            margin-bottom: 20px;
        }
        .number-input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        .number-input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        /* Navigation Buttons */
        .wizard-footer {
            padding: 20px 40px;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            background: white;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
            font-size: 1rem;
        }

        .btn-back {
            background: transparent;
            color: #8898aa;
        }
        .btn-back:hover {
            color: #2c3e50;
            background: #f5f5f5;
        }

        .btn-next {
            background: #e8b86d;
            color: #5a4a3a;
        }
        .btn-next:hover {
            background: #f2c98a;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(232, 184, 109, 0.3);
        }

        /* Final Result Page Styling */
        .result-box {
            text-align: center;
            padding: 20px;
        }
        .final-price {
            font-size: 4rem;
            color: #e8b86d;
            font-weight: 700;
            margin: 20px 0;
            text-shadow: 2px 2px 0px #fafafa;
        }
        .summary-list {
            text-align: left;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px dashed #e0e0e0;
            padding-bottom: 5px;
            color: #555;
        }
        .summary-item:last-child {
            border-bottom: none;
        }
        .summary-item strong {
            color: #2c3e50;
        }
        .disclaimer-text {
          font-size: 0.85rem;
          color: #8898aa;
          margin-top: 20px;
          line-height: 1.5;
          background: #fffbf0;
          padding: 15px;
          border-radius: 8px;
          border: 1px solid #f0e6d2;
      }

        @media (max-width: 600px) {
            .step-content { padding: 25px; }
            .wizard-footer { padding: 20px; }
            .options-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>

<div class="wizard-container">
    <div class="progress-header">
        <span class="progress-text" id="stepText">Step 1 of 4</span>
        <div class="step-dots">
            <div class="dot active" id="dot1"></div>
            <div class="dot" id="dot2"></div>
            <div class="dot" id="dot3"></div>
            <div class="dot" id="dot4"></div>
        </div>
    </div>

    <form id="quoteForm" onsubmit="return false;">
        
        <div class="step-content active" id="step1">
            <h2>Let's start with the basics.</h2>
            <p class="subtitle">How big is the space we are cleaning?</p>

            <label style="font-weight:600; display:block; margin-bottom:10px;">Square Footage</label>
            <div class="options-grid">
                <label class="option-card">
                    <input type="radio" name="sqft" value="80" checked>
                    <div class="card-visual">1 - 999<br>Sq Ft</div>
                </label>
                <label class="option-card">
                    <input type="radio" name="sqft" value="100">
                    <div class="card-visual">1000 - 1499<br>Sq Ft</div>
                </label>
                <label class="option-card">
                    <input type="radio" name="sqft" value="130">
                    <div class="card-visual">1500 - 1999<br>Sq Ft</div>
                </label>
                <label class="option-card">
                    <input type="radio" name="sqft" value="180">
                    <div class="card-visual">2000+<br>Sq Ft</div>
                </label>
            </div>

            <div class="options-grid">
                <div class="number-input-group">
                    <label>Bedrooms</label>
                    <input type="number" id="bedrooms" value="1" min="0">
                </div>
                <div class="number-input-group">
                    <label>Bathrooms</label>
                    <input type="number" id="bathrooms" value="1" min="1">
                </div>
            </div>
        </div>

        <div class="step-content" id="step2">
            <h2>Current Condition</h2>
            <p class="subtitle">Select all that apply to your home.</p>

            <div class="options-grid">
                <label class="option-card">
                    <input type="checkbox" name="condition" value="pets" data-price="20">
                    <div class="card-visual">üê∂<br>Pets in Home</div>
                </label>
                <label class="option-card">
                    <input type="checkbox" name="condition" value="clutter" data-price="30">
                    <div class="card-visual">üì¶<br>Heavy Clutter</div>
                </label>
                <label class="option-card">
                    <input type="radio" name="serviceType" value="standard" checked>
                    <div class="card-visual">‚ú®<br>Standard Clean</div>
                </label>
                <label class="option-card">
                    <input type="radio" name="serviceType" value="deep">
                    <div class="card-visual">üßΩ<br>Deep Clean</div>
                </label>
                <label class="option-card">
                    <input type="radio" name="serviceType" value="move">
                    <div class="card-visual">üöö<br>Move In/Out</div>
                </label>
            </div>
        </div>

        <div class="step-content" id="step3">
            <h2>Extras & Add-ons</h2>
            <p class="subtitle">Do you need any specific areas tackled?</p>

            <div class="options-grid">
                <label class="option-card">
                    <input type="checkbox" name="addon" value="Oven" data-price="30">
                    <div class="card-visual">Inside Oven<br>+$30</div>
                </label>
                <label class="option-card">
                    <input type="checkbox" name="addon" value="Fridge" data-price="28">
                    <div class="card-visual">Inside Fridge<br>+$28</div>
                </label>
                <label class="option-card">
                    <input type="checkbox" name="addon" value="Eco" data-price="25">
                    <div class="card-visual">Eco Products<br>+$25</div>
                </label>
            </div>

            <div class="number-input-group" style="margin-top:20px;">
                <label>Interior Windows (+$5 each)</label>
                <input type="number" id="windows" value="0" min="0">
            </div>
        </div>

        <div class="step-content" id="step4">
            <h2>How often?</h2>
            <p class="subtitle">Recurring plans save you money per visit.</p>

            <div class="options-grid" style="grid-template-columns: 1fr;">
                <label class="option-card" style="flex-direction: row; text-align: left;">
                    <input type="radio" name="frequency" value="1" checked>
                    <div class="card-visual" style="align-items: flex-start; padding-left: 30px;">
                        <strong>One-Time Clean</strong>
                        <span style="font-size: 0.85rem; color: #888;">Standard pricing</span>
                    </div>
                </label>
                <label class="option-card">
                    <input type="radio" name="frequency" value="0.9">
                    <div class="card-visual" style="align-items: flex-start; padding-left: 30px;">
                        <strong>Monthly</strong>
                        <span style="font-size: 0.85rem; color: #4caf50;">Save 10%</span>
                    </div>
                </label>
                <label class="option-card">
                    <input type="radio" name="frequency" value="0.8">
                    <div class="card-visual" style="align-items: flex-start; padding-left: 30px;">
                        <strong>Bi-Weekly</strong>
                        <span style="font-size: 0.85rem; color: #4caf50;">Save 20% (Best Value)</span>
                    </div>
                </label>
            </div>
        </div>

        <div class="step-content" id="stepResult">
          <div class="result-box">
              <h2>Your Estimated Quote</h2>
              <p class="subtitle">Based on the details provided</p>
              
              <div class="final-price" id="displayTotalAmount">$0.00</div>
              
              <div class="summary-list">
                  </div>
      
              <div class="disclaimer-text">
                  <strong>Please Note:</strong> This is a preliminary estimate only. We intentionally calculate our online quotes on the higher side to ensure there are no surprises. The final price depends on the specific condition of the home, and we require a brief in-person walkthrough to confirm the exact price.
              </div>
              <br> <button class="btn btn-next" style="width: 100%; padding: 18px; font-size: 1.2rem;">Book This Price Now</button>
              
              <div style="margin-top: 15px;">
                  <a href="#" onclick="location.reload()" style="color: #8898aa; text-decoration: none; font-size: 0.9rem;">Start Over</a>
              </div>
          </div>
      </div>

    </form>

    <div class="wizard-footer" id="wizardFooter">
        <button class="btn btn-back" id="prevBtn" onclick="changeStep(-1)" disabled>Back</button>
        <button class="btn btn-next" id="nextBtn" onclick="changeStep(1)">Next Step</button>
    </div>
</div>

<script>
    let currentStep = 1;
    const totalSteps = 4;

    function changeStep(n) {
        // Validation logic could go here (e.g., ensure fields are filled)
        
        // Hide current step
        document.getElementById('step' + currentStep).classList.remove('active');
        document.getElementById('dot' + currentStep)?.classList.remove('active');

        // Move counter
        currentStep += n;

        // If we went past the last step, show result
        if (currentStep > totalSteps) {
            calculateAndShowResult();
            return;
        }

        // Show new step
        document.getElementById('step' + currentStep).classList.add('active');
        document.getElementById('dot' + currentStep).classList.add('active');
        
        // Update Text
        document.getElementById('stepText').innerText = `Step ${currentStep} of ${totalSteps}`;

        // Handle Buttons
        document.getElementById('prevBtn').disabled = currentStep === 1;
        
        if (currentStep === totalSteps) {
            document.getElementById('nextBtn').innerText = "See Quote";
        } else {
            document.getElementById('nextBtn').innerText = "Next Step";
        }
    }

    function calculateAndShowResult() {
        // Hide Footer
        document.getElementById('wizardFooter').style.display = 'none';
        // Hide Progress Header
        document.querySelector('.progress-header').style.display = 'none';
        
        // Show Result Div
        document.getElementById('stepResult').classList.add('active');

        // --- CALCULATION LOGIC ---
        
        // 1. Base Price (SqFt + Beds + Baths)
        let base = parseInt(document.querySelector('input[name="sqft"]:checked').value);
        base += parseInt(document.getElementById('bedrooms').value) * 10;
        base += parseInt(document.getElementById('bathrooms').value) * 15;

        // 2. Service Type Multipliers
        let serviceType = document.querySelector('input[name="serviceType"]:checked').value;
        let multiplier = 1;
        if(serviceType === 'deep') multiplier = 1.5;
        if(serviceType === 'move') multiplier = 1.8;
        
        let adjustedBase = base * multiplier;

        // 3. Condition/Addons
        let extrasTotal = 0;
        
        // Checkboxes for conditions (Pets/Clutter)
        document.querySelectorAll('input[name="condition"]:checked').forEach(cb => {
            extrasTotal += parseInt(cb.getAttribute('data-price'));
        });

        // Checkboxes for Addons (Oven, Eco, etc)
        document.querySelectorAll('input[name="addon"]:checked').forEach(cb => {
            extrasTotal += parseInt(cb.getAttribute('data-price'));
        });

        // Windows
        let windowCount = parseInt(document.getElementById('windows').value) || 0;
        extrasTotal += (windowCount * 5);

        // 4. Subtotal
        let subtotal = adjustedBase + extrasTotal;

        // 5. Frequency Discount
        let freqValue = parseFloat(document.querySelector('input[name="frequency"]:checked').value);
        let finalTotal = subtotal * freqValue;
        let discountAmount = subtotal - finalTotal;

        // 6. Time Estimation (Rough logic)
        let hours = (finalTotal / 45).toFixed(1);
        if(hours < 2) hours = 2;

        // --- DISPLAY RESULTS ---
        document.getElementById('displayTotalAmount').innerText = '$' + finalTotal.toFixed(2);
        document.getElementById('summaryBase').innerText = '$' + adjustedBase.toFixed(2);
        document.getElementById('summaryAddons').innerText = '$' + extrasTotal.toFixed(2);
        document.getElementById('summaryDiscount').innerText = '-$' + discountAmount.toFixed(2);
        document.getElementById('summaryHours').innerText = hours + ' hours';
    }
</script>

</body>
</html>
